{% extends "base2.html" %}

{% block title %}Home - Reviews{% endblock %}

{% block content %}
{% load static %}

<div class="container mt-4">
    <h1>Player Reviews</h1>
    <hr>

    {% if reviews %}
        {% for review in reviews %}
        <div class="card review-card">
            <div class="card-header">
                Review for <strong>{{ review.to_user.username }}</strong> by <strong>{{ review.from_user.username }}</strong>
            </div>
            <div class="card-body">
                <h5 class="card-title">{{ review.title }}</h5>
                <p class="card-text">{{ review.body|linebreaksbr }}</p> {# Use linebreaksbr to respect newlines #}
            </div>
            <div class="card-footer text-muted">
                Posted on {{ review.timestamp|date:"F d, Y, P" }} {# Format timestamp nicely #}
                {# Add Edit/Delete buttons here later, checking permissions #}
                {# {% if review.from_user == request.user %} #}
                {#   <a href="#" class="btn btn-sm btn-secondary">Edit</a> #}
                {#   <a href="#" class="btn btn-sm btn-danger">Delete</a> #}
                {# {% endif %} #}
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p>No reviews have been posted yet. Be the first!</p>
        {# Add a link to create a review here later #}
        {# <a href="#" class="btn btn-primary">Write a Review</a> #}
    {% endif %}
</div>
{% endblock %}